import{_ as o,d as T,a as r,c as l,e as s,F as x,i as y,I as f,J as R,a2 as P,p as O,b as A,t as c,a3 as L,l as I,r as M,D as N,E as K,m as _,y as S,x as G,n as J,s as V,j as Q,q as X,a4 as Y,f as D,R as Z,u as ee,w as E,g as p,a1 as te,K as ne,v as oe}from"./index.5bbbf6dc.js";import{g as se,a as ie,H as ae}from"./index.76c31aae.js";import{L as re,g as de,a as le,b as ce}from"./navbar.d0863441.js";import{V as ue}from"./vue.f6757121.js";import{H as j}from"./link.75781a5c.js";import{j as _e,o as pe,F as me,u as ge,r as he}from"./index.4b2436cb.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";var fe=`// Demo code (the actual new parser character stream implementation)

function StringStream(string) {
  this.pos = 0
  this.string = string
}

StringStream.prototype = {
  done: function () {
    return this.pos >= this.string.length
  },
  peek: function () {
    return this.string.charAt(this.pos)
  },
  next: function () {
    if (this.pos < this.string.length) return this.string.charAt(this.pos++)
  },
  eat: function (match) {
    var ch = this.string.charAt(this.pos)
    if (typeof match == 'string') var ok = ch == match
    else var ok = ch && match.test ? match.test(ch) : match(ch)
    if (ok) {
      this.pos++
      return ch
    }
  },
  eatWhile: function (match) {
    var start = this.pos
    while (this.eat(match));
    if (this.pos > start) return this.string.slice(start, this.pos)
  },
  backUp: function (n) {
    this.pos -= n
  },
  column: function () {
    return this.pos
  },
  eatSpace: function () {
    var start = this.pos
    while (/\\s/.test(this.string.charAt(this.pos))) this.pos++
    return this.pos - start
  },
  match: function (pattern, consume, caseInsensitive) {
    if (typeof pattern == 'string') {
      function cased(str) {
        return caseInsensitive ? str.toLowerCase() : str
      }
      if (cased(this.string).indexOf(cased(pattern), this.pos) == this.pos) {
        if (consume !== false) this.pos += str.length
        return true
      }
    } else {
      var match = this.string.slice(this.pos).match(pattern)
      if (match && consume !== false) this.pos += match[0].length
      return match
    }
  }
}
`,q={language:_e,code:fe},ve=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));const C={"./lang-code/brainfuck/index.ts":()=>o(()=>import("./index.82f830bd.js"),["assets/index.82f830bd.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/clojure/index.ts":()=>o(()=>import("./index.be5a714f.js"),["assets/index.be5a714f.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/coffeescript/index.ts":()=>o(()=>import("./index.c9c15471.js"),["assets/index.c9c15471.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/cpp/index.ts":()=>o(()=>import("./index.dc699302.js"),["assets/index.dc699302.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/css/index.ts":()=>o(()=>import("./index.edaf0a64.js"),["assets/index.edaf0a64.js","assets/index.0469519c.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/dockerfile/index.ts":()=>o(()=>import("./index.cfe9c21b.js"),["assets/index.cfe9c21b.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/erlang/index.ts":()=>o(()=>import("./index.d423da0e.js"),["assets/index.d423da0e.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/go/index.ts":()=>o(()=>import("./index.6ddef90d.js"),["assets/index.6ddef90d.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/html/index.ts":()=>o(()=>import("./index.0b89fd08.js"),["assets/index.0b89fd08.js","assets/index.09354039.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js","assets/index.0469519c.js"]),"./lang-code/java/index.ts":()=>o(()=>import("./index.f4e17014.js"),["assets/index.f4e17014.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/javascript/index.ts":()=>o(()=>Promise.resolve().then(function(){return ve}),void 0),"./lang-code/json/index.ts":()=>o(()=>import("./index.b01653ae.js"),["assets/index.b01653ae.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/jsx/index.ts":()=>o(()=>import("./index.17eb8215.js"),["assets/index.17eb8215.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/julia/index.ts":()=>o(()=>import("./index.640e35a8.js"),["assets/index.640e35a8.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/lezer/index.ts":()=>o(()=>import("./index.a12f3b33.js"),["assets/index.a12f3b33.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/lua/index.ts":()=>o(()=>import("./index.872f0ebd.js"),["assets/index.872f0ebd.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/markdown/index.ts":()=>o(()=>import("./index.c2f8bada.js"),["assets/index.c2f8bada.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js","assets/index.09354039.js","assets/index.0469519c.js"]),"./lang-code/mysql/index.ts":()=>o(()=>import("./index.1b86c436.js"),["assets/index.1b86c436.js","assets/index.63f8346c.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/nginx/index.ts":()=>o(()=>import("./index.dc171911.js"),["assets/index.dc171911.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/pascal/index.ts":()=>o(()=>import("./index.30c6465b.js"),["assets/index.30c6465b.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/perl/index.ts":()=>o(()=>import("./index.10c90a80.js"),["assets/index.10c90a80.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/pgsql/index.ts":()=>o(()=>import("./index.1c98cea3.js"),["assets/index.1c98cea3.js","assets/index.63f8346c.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/php/index.ts":()=>o(()=>import("./index.25b33cb6.js"),["assets/index.25b33cb6.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js","assets/index.09354039.js","assets/index.0469519c.js"]),"./lang-code/powershell/index.ts":()=>o(()=>import("./index.492a8c48.js"),["assets/index.492a8c48.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/python/index.ts":()=>o(()=>import("./index.d2406d91.js"),["assets/index.d2406d91.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/r/index.ts":()=>o(()=>import("./index.a087137e.js"),["assets/index.a087137e.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/ruby/index.ts":()=>o(()=>import("./index.f59bccff.js"),["assets/index.f59bccff.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/rust/index.ts":()=>o(()=>import("./index.19861ddd.js"),["assets/index.19861ddd.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/scheme/index.ts":()=>o(()=>import("./index.4263439c.js"),["assets/index.4263439c.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/shell/index.ts":()=>o(()=>import("./index.9f2756e9.js"),["assets/index.9f2756e9.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/sql/index.ts":()=>o(()=>import("./index.ded37cd4.js"),["assets/index.ded37cd4.js","assets/index.63f8346c.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/stylus/index.ts":()=>o(()=>import("./index.feaf6e61.js"),["assets/index.feaf6e61.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/swift/index.ts":()=>o(()=>import("./index.73ad0256.js"),["assets/index.73ad0256.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/tcl/index.ts":()=>o(()=>import("./index.ce65914d.js"),["assets/index.ce65914d.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/toml/index.ts":()=>o(()=>import("./index.cc9ce46a.js"),["assets/index.cc9ce46a.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/tsx/index.ts":()=>o(()=>import("./index.d91d5aba.js"),["assets/index.d91d5aba.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/typescript/index.ts":()=>o(()=>import("./index.9782c755.js"),["assets/index.9782c755.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/vb/index.ts":()=>o(()=>import("./index.66a78eb6.js"),["assets/index.66a78eb6.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/vbscript/index.ts":()=>o(()=>import("./index.e93e2ada.js"),["assets/index.e93e2ada.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/xml/index.ts":()=>o(()=>import("./index.30ee93e6.js"),["assets/index.30ee93e6.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"]),"./lang-code/yaml/index.ts":()=>o(()=>import("./index.07dd898f.js"),["assets/index.07dd898f.js","assets/index.4b2436cb.js","assets/index.5bbbf6dc.js"])},z=Object.keys(C).reduce((e,t)=>{const a=t.replace("./lang-code/","").replace("/index.ts","");return{...e,[a]:C[t]}},{});var U={oneDark:pe};const be=T({props:{config:{type:Object,required:!0},languages:{type:Array,required:!0},themes:{type:Array,required:!0}},methods:{handleSelectLanguage(e){this.$emit("language",e.target.value)}}}),h=e=>(O("data-v-74cafd22"),e=e(),A(),e),Ee={class:"toolbar"},xe={class:"item"},ye=h(()=>s("label",{for:"language"},"language:",-1)),je=["value"],Le=["value"],Ve={class:"item"},Te=h(()=>s("label",{for:"theme"},"theme:",-1)),Re=["value"],Pe={class:"item"},Ie=h(()=>s("label",{for:"disabled"},"disabled:",-1)),De={class:"item"},Oe=h(()=>s("label",{for:"autofocus"},"autofocus:",-1)),Ae={class:"item"},we=h(()=>s("label",{for:"indentWithTab"},"indentWithTab:",-1)),$e={class:"item"},ke=h(()=>s("label",{for:"tabSize"},"tabSize:",-1)),Se=["value"],Ce={class:"item"},ze=h(()=>s("label",{for:"height"},"height:",-1)),Ue=["value"];function Me(e,t,a,m,u,v){return r(),l("div",Ee,[s("div",xe,[ye,s("select",{name:"language",id:"language",value:e.config.language,onChange:t[0]||(t[0]=(...n)=>e.handleSelectLanguage&&e.handleSelectLanguage(...n))},[(r(!0),l(x,null,y(e.languages,n=>(r(),l("option",{value:n,key:n},c(n),9,Le))),128))],40,je)]),s("div",Ve,[Te,f(s("select",{name:"theme",id:"theme","onUpdate:modelValue":t[1]||(t[1]=n=>e.config.theme=n)},[(r(!0),l(x,null,y(["default",...e.themes],n=>(r(),l("option",{value:n,key:n},c(n),9,Re))),128))],512),[[R,e.config.theme]])]),s("div",Pe,[Ie,f(s("input",{type:"checkbox",id:"disabled","onUpdate:modelValue":t[2]||(t[2]=n=>e.config.disabled=n)},null,512),[[P,e.config.disabled]])]),s("div",De,[Oe,f(s("input",{type:"checkbox",id:"autofocus","onUpdate:modelValue":t[3]||(t[3]=n=>e.config.autofocus=n)},null,512),[[P,e.config.autofocus]])]),s("div",Ae,[we,f(s("input",{type:"checkbox",id:"indentWithTab","onUpdate:modelValue":t[4]||(t[4]=n=>e.config.indentWithTab=n)},null,512),[[P,e.config.indentWithTab]])]),s("div",$e,[ke,f(s("select",{name:"tabSize",id:"tabSize","onUpdate:modelValue":t[5]||(t[5]=n=>e.config.tabSize=n)},[(r(),l(x,null,y([2,4,6,8],n=>s("option",{value:n,key:n},c(n),9,Se)),64))],512),[[R,e.config.tabSize,void 0,{number:!0}]])]),s("div",Ce,[ze,f(s("select",{name:"height",id:"height","onUpdate:modelValue":t[6]||(t[6]=n=>e.config.height=n)},[(r(),l(x,null,y(["auto","200px","40em","60vh"],n=>s("option",{value:n,key:n},c(n),9,Ue)),64))],512),[[R,e.config.height]])])])}var qe=w(be,[["render",Me],["__scopeId","data-v-74cafd22"]]);const We=T({name:"vue-codemirror-example",title:"Web IDE example",url:"file:///examples/vue-codemirror/editor.vue",props:{config:{type:Object,required:!0},code:{type:String,required:!0},theme:[Object,Array],language:Function},components:{Codemirror:me},setup(e){const t=console.log,a=L(e.code),m=I(()=>{const d=[];return e.language&&d.push(e.language()),e.theme&&d.push(e.theme),d}),u=L(!1),v=()=>{u.value=!u.value},n=L(),i=({view:d})=>{n.value=d},g=()=>{ge({state:n.value.state,dispatch:n.value.dispatch})},F=()=>{he({state:n.value.state,dispatch:n.value.dispatch})},b=M({lines:null,cursor:null,selected:null,length:null}),H=d=>{const $=d.state.selection.ranges;b.selected=$.reduce((B,k)=>B+k.to-k.from,0),b.cursor=$[0].anchor,b.length=d.state.doc.length,b.lines=d.state.doc.lines};return N(()=>{K(()=>e.code,d=>{a.value=d})}),{log:t,code:a,extensions:m,preview:u,state:b,togglePreview:v,handleReady:i,handleStateUpdate:H,handleRedo:F,handleUndo:g}}}),W=e=>(O("data-v-08bb010f"),e=e(),A(),e),Fe={class:"editor"},He={class:"main"},Be=W(()=>s("div",{class:"divider"},null,-1)),Ne={class:"footer"},Ke={class:"buttons"},Ge=W(()=>s("span",null,"Preview",-1)),Je={class:"infos"},Qe={class:"item"},Xe={class:"item"},Ye={class:"item"},Ze={class:"item"},et={class:"item"};function tt(e,t,a,m,u,v){const n=V("codemirror");return r(),l("div",Fe,[s("div",He,[_(n,{modelValue:e.code,"onUpdate:modelValue":t[0]||(t[0]=i=>e.code=i),style:S({width:e.preview?"50%":"100%",height:e.config.height,backgroundColor:"#fff",color:"#333"}),placeholder:"Please enter the code.",extensions:e.extensions,autofocus:e.config.autofocus,disabled:e.config.disabled,"indent-with-tab":e.config.indentWithTab,"tab-size":e.config.tabSize,onUpdate:e.handleStateUpdate,onReady:e.handleReady,onFocus:t[1]||(t[1]=i=>e.log("focus",i)),onBlur:t[2]||(t[2]=i=>e.log("blur",i))},null,8,["modelValue","style","extensions","autofocus","disabled","indent-with-tab","tab-size","onUpdate","onReady"]),e.preview?(r(),l("pre",{key:0,class:"code",style:S({height:e.config.height,width:e.preview?"50%":"0px"})},c(e.code),5)):G("",!0)]),Be,s("div",Ne,[s("div",Ke,[s("button",{class:"item",onClick:t[3]||(t[3]=(...i)=>e.togglePreview&&e.togglePreview(...i))},[Ge,s("i",{class:J(["iconfont",e.preview?"icon-eye":"icon-eye-close"])},null,2)]),s("button",{class:"item",onClick:t[4]||(t[4]=(...i)=>e.handleUndo&&e.handleUndo(...i))},"Undo"),s("button",{class:"item",onClick:t[5]||(t[5]=(...i)=>e.handleRedo&&e.handleRedo(...i))},"Redo")]),s("div",Je,[s("span",Qe,"Spaces: "+c(e.config.tabSize),1),s("span",Xe,"Length: "+c(e.state.length),1),s("span",Ye,"Lines: "+c(e.state.lines),1),s("span",Ze,"Cursor: "+c(e.state.cursor),1),s("span",et,"Selected: "+c(e.state.selected),1)])])])}var nt=w(We,[["render",tt],["__scopeId","data-v-08bb010f"]]);const ot=T({name:"vue-codemirror-example",title:"Example source-code",url:"file:///examples/vue-codemirror/index.vue",components:{Loading:re,Toolbar:qe,Editor:nt},setup(){const e=M({disabled:!1,indentWithTab:!0,tabSize:2,autofocus:!0,height:"auto",language:"javascript",theme:Q().theme.value===X.Light?"default":"oneDark"}),t=L(!1),a=Y(new Map([["javascript",q]])),m=I(()=>a.get(e.language)),u=I(()=>e.theme!=="default"?U[e.theme]:void 0);return{loading:t,config:e,themes:U,languages:z,currentTheme:u,currentLangCode:m,handleSwitchLanguage:async n=>{t.value=!0;const i=()=>new Promise(g=>window.setTimeout(g,260));if(a.has(n))await i();else{const[g]=await Promise.all([z[n](),i()]);a.set(n,g.default)}e.language=n,t.value=!1}}}}),st=e=>(O("data-v-6abe72b2"),e=e(),A(),e),it={class:"example"},at=st(()=>s("div",{class:"divider"},null,-1)),rt={key:0,class:"loading-box"};function dt(e,t,a,m,u,v){const n=V("toolbar"),i=V("loading"),g=V("editor");return r(),l("div",it,[_(n,{config:e.config,themes:Object.keys(e.themes),languages:Object.keys(e.languages),onLanguage:e.handleSwitchLanguage},null,8,["config","themes","languages","onLanguage"]),at,e.loading?(r(),l("div",rt,[_(i)])):(r(),D(g,{key:1,config:e.config,theme:e.currentTheme,language:e.currentLangCode.language,code:e.currentLangCode.code},null,8,["config","theme","language","code"]))])}var lt=w(ot,[["render",dt],["__scopeId","data-v-6abe72b2"]]);const ct=oe("\u2764\uFE0E"),vt=T({__name:"vue-codemirror",setup(e){const t=Z.VueCodemirror,a=se({component:lt,raw:"",language:"vue"});return ee({title:de(t),keywords:le(t).join(","),description:ce(t)}),(m,u)=>(r(),D(ue,{repository:p(t)},{default:E(()=>[_(ae,{repository:p(t)},{actions:E(()=>[_(j,{icon:"doc",text:"Vue(2) examples",href:p(te)(p(t))},null,8,["href"]),_(j,{icon:"doc",text:"CodeMirror(6) Guide",href:"https://codemirror.net/docs/guide/"}),_(j,{icon:"discussions",text:"CodeMirror Forum",href:"https://discuss.codemirror.net/"}),_(j,{icon:"discord",text:"Discord discussions",href:"https://discord.gg/nzHEydUvPH"})]),content:E(()=>[_(ie,{title:p(a).title||p(a).name,"title-link":p(a).url},{actions:E(()=>[ct]),default:E(()=>[(r(),D(ne(p(a).component)))]),_:1},8,["title","title-link"])]),_:1},8,["repository"])]),_:1},8,["repository"]))}});export{vt as default};
